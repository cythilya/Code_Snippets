<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>$title</title>
</head>
<body>
<div id="playground"></div>
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script>
//LexicalEnvironment Window = {makeArmy: function, army: undefined, shooter: undefined}
function makeArmy() { //LexicalEnvironment makeArmy = {shooters: undefined, i: undefined, shooter: undefined}
   var shooters = []; //LexicalEnvironment makeArmy = {shooters: [] i: undefined, shooter: undefined}
   var i = undefined;
   for(i=0; i<10; i++) { //LexicalEnvironment makeArmy = {shooters: [] i: 10, shooter: undefined}
    	console.log(i); 
    	var shooter = function() {
     		console.log(i); // which should alert it's number
      		//LexicalEnvironment makeArmy = {shooters: [] i: 10, shooter: function}
    	}
    	shooters.push(shooter);
    	//LexicalEnvironment makeArmy = {shooters: [] i: 10, shooter: function}
    }
  	return shooters
}

var army = makeArmy();
console.log('ready...');
var shooter = army[0]; // first shooter
shooter(); // alerts 10, should be 0
 
shooter = army[5]; // 5th shooter
shooter(); // alerts 10, should be 5
</script>
</body>
</html>